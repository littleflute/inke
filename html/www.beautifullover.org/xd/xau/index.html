

<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<script type="text/javascript">
var gTimes = 0;
function loadXMLDoc()
{
var xmlhttp;
if (window.XMLHttpRequest)
  {// code for IE7+, Firefox, Chrome, Opera, Safari
  xmlhttp=new XMLHttpRequest();
  }
else
  {// code for IE6, IE5
  xmlhttp=new ActiveXObject("Microsoft.XMLHTTP");
  }
xmlhttp.onreadystatechange=function()
  {
  if (xmlhttp.readyState==4 && xmlhttp.status==200)
    {
      document.getElementById("myDiv").innerHTML=xmlhttp.responseText;
      gTimes++;
      document.getElementById("gTimesDiv").innerHTML=gTimes;
      showData(xmlhttp.responseText);
      loadXMLDoc();
    }
  }
xmlhttp.open("GET","http://api.baidao.com/api/hq/npdata.do?ids=201",true);
xmlhttp.send();
}
function showData(s)
{
  var strData = "";
  var s2 = s.split("{");
  var s3 = s2[1].split("}");
  var s4 = s3[0].split(",");
  var i;
  var n = 20;
  for(i=0;i<n;i++)
  {
    var strTmp = s4[i];
    if(10==i) strTmp = strTmp.fontcolor("Red");
    if(11==i) strTmp = strTmp.fontcolor("Blue");
    strData += (i+1) + "-> " + strTmp + "<br />";
  }
  document.getElementById("showDataDiv").innerHTML=strData;
  
}
</script>
</head>
<body>
<a href="../../">主页</a> | <a href="http://www.w3school.com.cn/tiy/t.asp?f=ajax_get" target="_blank">ref</a>->
<button type="button" onclick="loadXMLDoc()">最新数据(V0.0.2)</button>
<div id="gTimesDiv"></div>
<div id="myDiv"></div>
<div id="showDataDiv" style="border: solid 1px red;"></div>

</body>
</html>
